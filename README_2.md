https://www.youtube.com/watch?v=L-FyeHQwo4U&list=PLDyJYA6aTY1nZ9fSGcsK4wqeu-xaJksQQ&index=2 

1. Новый проект training-project, установка django внутрь проекта 
![21-07-25.png](screens%2F21-07-25.png)

2. Создаем джанго проект test_one 
![21-19-40.png](screens%2F21-19-40.png)

3. Добавили приложение main, надо зарегить его в settings.py 
![22-58-50.png](screens%2F22-58-50.png)

4. Учимся отслеживать различные URLs адреса (при переходе на главную страницу хочу свой текст)

5. В ф-ле urls.py проекта test-one импортировали м-д include, прописали путь со ссылкой на ф-л urls.py приложения main 
![08-51-50.png](screens%2F08-51-50.png)

6. В приложении main ф-ла urls.py нет - создали, скопировали из главного url импорты (кроме админки и include), 
сделали import views, прописали путь со ссылкой на ф-л views  
![09-07-21.png](screens%2F09-07-21.png)

7. В ф-ле views делаем импорт из django HttpResponse, создаем ф-цию, которая (ура! наконец-то) и выводит текст на страницу
![09-13-44.png](screens%2F09-13-44.png)

8. Запускаем сервер.
![09-18-27.png](screens%2F09-18-27.png)

9. Пробуем отследить еще какую-нибудь страницу, кроме главной. В url приложения прописываем еще один путь-ссылку на views
![10-06-00.png](screens%2F10-06-00.png)

Идем во views, там пишем еще одну ф-цию (about, страница про нас)
![10-08-49.png](screens%2F10-08-49.png)

Сервер перезапускается, на сайте идем в about.
![10-10-15.png](screens%2F10-10-15.png)

10. До этого выводили на страницу текст при помощи HttpResponse, теперь будем выводить при помощи render. 
В ф-ле views создала ф-цию при помощи render
![11-38-36.png](screens%2F11-38-36.png)

11. Так как этот м-д ссылается на html, нужно подключить templates. Создаем такую папку внутри приложения, в ней 
дополнительную папку main (по имени приложения, такие требования документации)
![11-42-46.png](screens%2F11-42-46.png)

12. Создаем ф-л index.html, в нем меняем язык на русский, заполняем Title, прописываем в body два текста
![11-47-35.png](screens%2F11-47-35.png)

13. Открываем терминал, запускаем локальный сервер. Видим изменения.
![11-52-07.png](screens%2F11-52-07.png)

14. Повторяем то же самое для странички about. Идем в views, пишем новую about через render. 
![12-00-34.png](screens%2F12-00-34.png)

Создаем новый html, имя about в папке templates
![12-02-33.png](screens%2F12-02-33.png)

15. Перезапускаем сервер, идем на страницу about
![12-03-40.png](screens%2F12-03-40.png)

16. Создание общего шаблона для html-файлов. Создаем ф-л layout.html, определяемся с частями, которые будут меняться.
У нас это тэг <Title> и тэг <body>.

17. Оформляем динамический изменяемые секции при помощи Jinja. Пишем в body
![12-42-06.png](screens%2F12-42-06.png)

18. Пишем в Title тот же шаблон, код потом подставим и там, и там. Не забываем изменить имя!:
![12-44-55.png](screens%2F12-44-55.png)

19. Переписываем ф-л index.html. Вначале пишем, что мы наследуем все от ф-ла layout.html, 
![12-51-22.png](screens%2F12-51-22.png)

потом в index пишем код, который нам нужно будет поместить внутрь блоков в ф-л layout.html(Внимание! наследуемся от 
layout.html, код пишем в index.html, потом скопируем в нужное место в layout.html)
Вначале блок body
![12-57-03.png](screens%2F12-57-03.png)

и блок title для заголовка
![13-01-29.png](screens%2F13-01-29.png)

20. Меняем так же страничку about (просто копируем из index, меняем текст). Обновляем сервер
![13-05-39.png](screens%2F13-05-39.png)

21. Теперь на странице можно динамически создавать всякую фигню, дописав в ф-ле layout
![13-12-23.png](screens%2F13-12-23.png)
![13-12-34.png](screens%2F13-12-34.png)

22. Будем вставлять файл при помощи include. Сперва в той же папке создадим ф-л test.html, в него вставим любую фразу.
![14-11-30.png](screens%2F14-11-30.png)

23. Идем в index.html, внутри <body> вставляем ссылку через {% include ........ %}. Ссылку так и увидим несколько раз.
![14-15-38.png](screens%2F14-15-38.png)

24. Этот файл можно подключать в любой html, в том числе и в макет layout.

25. Подключаем Bootstrap (ссылка с сайта bootstrap.com). В файле layout через link подключаем ссылку
![14-34-23.png](screens%2F14-34-23.png)

26. Создаем свой файл css. Для этого создаем папку для статических файлов static 
(в ней папку main по имени приложения и доп. папки),в папке создадим ф-л main.css.
![14-50-06.png](screens%2F14-50-06.png)

27. В ф-ле пока ничего не пишем, но подключаем его в ф-ле layout.html. Вверху подключаем {% load static %},
через link подключаем ф-л main.css (см. строку 9, второй link)
![14-57-04.png](screens%2F14-57-04.png)

28. Напишем что-нибудь в ф-л main.css, например, цвет страниц
    (чтобы увидеть изменения - очистить кэш Ctrl+Shift+Del)
![15-10-24.png](screens%2F15-10-24.png)

29. Чтобы заработало, идем в официальную документацию django, смотрим требования для статических файлов (у меня все подключено,
кроме STATICFILES_DIRS). Копируем весь код, вставляем в наш общий settings.py
![15-18-48.png](screens%2F15-18-48.png)

Второй элемент списка не нужен
![15-20-30.png](screens%2F15-20-30.png)

Копируем еще вот это
![15-22-28.png](screens%2F15-22-28.png)
 
И вставляем в основной ф-л urls и добавляем еще один путь, предварительно симпортировав то, что предложено в документации
![15-26-52.png](screens%2F15-26-52.png)
![15-27-04.png](screens%2F15-27-04.png)

30. Создадим красивый дизайн для нашего сайта. Очищаем main.css. В папку img вставим любую картинку.
Идем в ф-л layout, прописываем тэг aside (для левой боковой панели сайта) и тэг main для основной части сайта
![15-59-24.png](screens%2F15-59-24.png)

31. То, что было ниже тэга main, перемещаем в него (динамический контент)
![16-03-10.png](screens%2F16-03-10.png)

32. В тэге aside будет находиться то, что не меняется. Внутрь него подключаем тэг img, в кавычки копируем то, что в линке 
(когда подключали файл css), меняем путь на путь к картинке, имя картинки
было: ![16-07-55.png](screens%2F16-07-55.png)
стало: ![16-11-04.png](screens%2F16-11-04.png)

33. Дальше пишем в тэге aside. Прописываем тэг span
![16-15-39.png](screens%2F16-15-39.png)

34. Здесь же дополнительно вставляем тэги с навигацией и т.д.
![00-20-59.png](screens%2F00-20-59.png)
![00-21-13.png](screens%2F00-21-13.png)

35. Подключаем иконки с сайта Font Awesome (нормальные иконки так и не подключились)
![00-57-04.png](screens%2F00-57-04.png)
![00-57-14.png](screens%2F00-57-14.png)

36. Заполняем css, делаем оформление сайта (там всякие отступы и проч. красота)

body - цвет основного блока, aside - оформление левого блока, aside img - стиль картинки, aside .logo - стиль логотипа
aside h3 - Навигация, aside ul - снять стиль у элементов тэга ul, aside ul li - задать стиль эл-там
![17-56-43.png](screens%2F17-56-43.png)

37. Пропишем ссылки на страницы. Именуем в url путь, в layout пропишем именованные урлы
![18-21-27.png](screens%2F18-21-27.png)
![18-24-08.png](screens%2F18-24-08.png)

38. Добавила страницу с контактами. Работает по ссылке
![18-40-26.png](screens%2F18-40-26.png)

39. Добавим стиля главному блоку (работаем в index.html). Текст-заглушка, добавление кнопки (пока не ссылка)
![19-05-54.png](screens%2F19-05-54.png)
![19-06-17.png](screens%2F19-06-17.png)

40. Переходим в main.css, прописываем св-ва для офлрмления класса features(оформление будет скопировано во все тепмлейсы)
![20-05-57.png](screens%2F20-05-57.png)

41. Копируем оформление на другие листы(главный, about, contacts)
![20-03-01.png](screens%2F20-03-01.png)

42. В ф-л view вносим изменения - добавляем параметр в ф-цию, чтобы в дальнейшем передавать данные в HTML-шаблон
![23-37-30.png](screens%2F23-37-30.png)

И вносим изменения в ф-л index (в заглавие и тэг h1)
![23-39-46.png](screens%2F23-39-46.png)

43. В ф-ле view создаем переменную data (словарь), записываем различные эл-ты, которые будем передвать на страницу
![00-22-37.png](screens%2F00-22-37.png)

В ф-ле index создаем цикл, эл-ты выводятся не списком values, а как положено в цикле. 
![00-22-51.png](screens%2F00-22-51.png)
![00-22-16.png](screens%2F00-22-16.png)

В data можно подавать различные виды данных - и словари, и списки. К ним можно обращаться в цикле, и по условию
![00-42-22.png](screens%2F00-42-22.png)
![00-42-30.png](screens%2F00-42-30.png)

44. Можно использовать фильтры (upper, lower)
![14-31-13.png](screens%2F14-31-13.png)
![14-30-46.png](screens%2F14-30-46.png)

Альтернативная запись фильтра   {{ values_1|lower }} (дело в вертикальной черточке)
![14-35-04.png](screens%2F14-35-04.png)

45. Для пополнения сайта новостями создаем новое приложение news (python manage.py startapp news). 
Регистрируем его в settings   #INSTALLED_APPS = ['news',.....]
![15-12-19.png](screens%2F15-12-19.png)
в urls приложения    #...path('news/', include('news.urls'))
![15-12-28.png](screens%2F15-12-28.png)

46. Внутри приложения news стздаем файл urls.py, копируем в него код из соседнего urls. Оставляем только отслеживание
пустой строки "", т.к. мы уже и так в news/urls. Будем вызывать новостную страницу ч-з news_home 
![15-24-53.png](screens%2F15-24-53.png)

47. Идем в файл views приложения, там прописываем одну ф-цию, которая возвращает ссылку на templates, пока соседнего
приложения main. Смотрим, все ли работает
![15-34-18.png](screens%2F15-34-18.png)
![15-47-47.png](screens%2F15-47-47.png)

48. Теперь создадим свои templates для приложения news, в ф-ле news_home пропишем такую же структуру, как, например, 
в ф-ле index.html. Не забываем поменять ссылку на новый html в ф-ле news/views.
![16-12-40.png](screens%2F16-12-40.png)
![16-10-52.png](screens%2F16-10-52.png)
![16-12-51.png](screens%2F16-12-51.png)

49. В файле layout создадим еще одну активную ссылку на страницу с новостями. Прописываем текст страницы в templates 
приложения news
![16-30-03.png](screens%2F16-30-03.png)
![17-12-09.png](screens%2F17-12-09.png)
![17-13-43.png](screens%2F17-13-43.png)

50. Начинаем работу над базой данных. Работать будем в ф-ле models.py приложения news, создаем таблицу внутри базы данных.
Создаем класс для статьи, будет четыре поля (заголовок, анонс, полный текст, дата)
![17-27-27.png](screens%2F17-27-27.png)

51. Прописываем волшебный м-д __str__, пока не знаю, зачем. Так надо :). Возвращать будет название статьи
![17-29-34.png](screens%2F17-29-34.png)

52. Таблица пока только прописана, но не создана. Т.к. создание таблиц происходит в момент выполнения миграции.
Вначале команда makemigrations (создает таблицы, подлежащие миграции), произошла 1 миграция, создан новый ф-л
в папке migrations
![17-40-50.png](screens%2F17-40-50.png)

53. После того, как миграции созданы, надо их провести. Команда migrate, и потом перезапустить сервер.
![17-46-09.png](screens%2F17-46-09.png)

54. Займемся панелью администратора. Переводим панель на русский язык (меняем в переменной LANGUAGE_CODE в settings)
![21-44-15.png](screens%2F21-44-15.png)

55. Зарегистрируемся как администратор (python manage.py createsuperuser) логин, пароль.
![21-50-32.png](screens%2F21-50-32.png)
![21-52-40.png](screens%2F21-52-40.png)

56. Походили по сайту, посмотрели, но нашей таблички с новостями не увидели. Потому что ее нужно зарегить в admin
приложения news. Импортируем из .models класс Article (from .models import Article). И непосредственно регистрация
(admin.site.register(Article)
![22-02-35.png](screens%2F22-02-35.png)
![22-02-28.png](screens%2F22-02-28.png)

57. Появился новый раздел news, переименуем его. (в ф-ле models создаем класс Meta и т.д.)
![22-07-16.png](screens%2F22-07-16.png)
![22-07-09.png](screens%2F22-07-09.png)

58. Пробуем добавить новость.
![22-11-08.png](screens%2F22-11-08.png)
![22-11-14.png](screens%2F22-11-14.png)

59. Получение записей из БД. Работаем в ф-ле news/views.py. Импортируем из .models класс Article (from .models import Article).
Добавляем переменную news в ф-цию news_home и еще один параметр в return render
![22-24-15.png](screens%2F22-24-15.png)

60. Вот как сейчас выводится страница с новостями:
![23-34-21.png](screens%2F23-34-21.png)

В news_home.html удаляем тэг р, button, список статей
![23-36-24.png](screens%2F23-36-24.png)

И в этом же ф-ле пропишем цикл для того, чтобы выводить поля с новостями (имена подсматриваем в news/models)
![23-46-05.png](screens%2F23-46-05.png)
![23-45-53.png](screens%2F23-45-53.png)

61. Можно прописать стили для блока alert-warning (напоминание!!! это делается в ф-ле main/static/main/css/main.css)
![23-59-55.png](screens%2F23-59-55.png)
![08-23-29.png](screens%2F08-23-29.png)

62. Как осуществить разные форматы выборки. В ф-ле news/views (это приложение) есть переменная news для вывода данных.
all - выводить все (сделали), теперь применим order_by по полю 'title' ('-title' сортировка в обратном порядке).
Можно сортировать по любому из полей таблицы (подсматриваем в models).
![08-37-45.png](screens%2F08-37-45.png)

63. Можно использовать срез [:n], чтобы показывать определенное количество записей
![08-42-59.png](screens%2F08-42-59.png)
![08-43-09.png](screens%2F08-43-09.png)

64. На страничке с новостями можно выводить какое-либо сообщение, если новостей нет. Пропишем условие if-else в ф-ле 
news_home.html. Также после циклов пример оформления комментариев
![13-31-31.png](screens%2F13-31-31.png)

65. Создание формочек для добавления в таблицу базы данных.
В первую очередь добавим на панель навигации  ссылку в виде кнопки, кот. будет вести на форму по добавлению записи.
В ф-л layout добавим новую ссылку
![13-51-06.png](screens%2F13-51-06.png)
![13-50-54.png](screens%2F13-50-54.png)

66. Эта ссылка именованная, но нам нужна не на контакты, а на "создать", поэтому contacts меняем на create, новую ссылку 
create сейчас создадим. Создавать будем в приложении news, так как работу с новостями определили для приложения news.
Используем ф-л urls приложения news
![14-08-49.png](screens%2F14-08-49.png)

67. Переходим во views приложения, создаем еще метод create
![14-12-13.png](screens%2F14-12-13.png)

68. Идем в темплейсы приложения и создаем ф-л create.html. Шапку скопируем в него из соседнего html. Внутри пропишем новое.
Можно было бы прописать action со ссылкой на страницу, где бы проверялись введенные данные, но если не написать этот
параметр, то проверка будет производиться прямо в ф-ле create.html. Нам именно так и нужно, поэтому убираем.
![14-52-31.png](screens%2F14-52-31.png)

69. В формочке создаем несколько input-полей. (class="form-control" - это форма от бутстрапа, для красоты)(br - перенос строки)
![15-07-19.png](screens%2F15-07-19.png)
![15-11-47.png](screens%2F15-11-47.png)

70. Здась же создадим кнопку, по которой пользователь будет переадресовывать данные на сервер (type="submit" - при нажатии
будет происходить перезагрузка страницы, и данные будут отправляться на сервер)
![15-21-45.png](screens%2F15-21-45.png)

71. Страница с формой
![15-22-20.png](screens%2F15-22-20.png)

72. Изменим немного оформление, ф-л main/css
![15-37-22.png](screens%2F15-37-22.png)

73. Страница не перезапустилась, т.к. данные ф-ла css попадают в кэш. Чтобы очистить - горячие клавиши Ctrl+Shift+Delete.
![15-38-34.png](screens%2F15-38-34.png)

74. Добавляем функциональность. Сейчас при нажатии на Добавить новость возникает ошибка, которая говорит нам о том, что
мы не добавили CSRF-токен. Используется при передаче формы для безопасности, обязательный параметр. 
![15-43-20.png](screens%2F15-43-20.png)

Копируем {% csrf_token %}, вставляем в create.html
![15-46-10.png](screens%2F15-46-10.png)

75. Теперь при нажатии на кнопку ошибки нет, но и ничего не происходит. Потому что мы никак не связали форму create.html
с нашей таблицей для новостей (class Article в models приложения).
Для этого в приложении news создаем ф-л forms.py. Выполняем несколько импортов. 
![15-57-39.png](screens%2F15-57-39.png)

76. Создадим теперь в этом ф-ле класс для работы с Article
![16-01-42.png](screens%2F16-01-42.png)

77. Теперь мы создадим объект на основе этого класса, передадим объект в шаблон, шаблон выведем.
Идем во views.py приложения news, из форм импортируем ArticleForm.
В методе create создаем объект form на основе класса ArticleForm.
Создаем словарь data, включаем его в render в ретурне
![16-10-15.png](screens%2F16-10-15.png)

78. Переходим в create.html. Если form добавить просто в поля, то мы увидим на странице две возможности создать новость.
Первая форма функциональная, а вторая - красивая. Нам их надо как-то объединить.
![16-16-55.png](screens%2F16-16-55.png)

Прописываем ссылки на каждое поле отдельно
![16-38-42.png](screens%2F16-38-42.png)

79. Теперь нам нужно к полям добавить разные атрибуты. Обратимся к классу формы (forms.py), и пропишем в widgets все
характеристики полей. (Еще нужно импортировать from django.forms import TextInput)
![16-47-29.png](screens%2F16-47-29.png)
Все свойства полей берем из ф-ла create.html
![17-07-25.png](screens%2F17-07-25.png)

80. Идем в create, удаляем все инпуты, которые сами создали (поля уже скопированы в forms.py)
![21-10-47.png](screens%2F21-10-47.png)
Хэштег br - для отступа между рядами данных 
![21-13-46.png](screens%2F21-13-46.png)
![21-13-10.png](screens%2F21-13-10.png)

81. Пропишем обработку данных, полученных из формы. (обработка происходит на стр. news/create). Эте страница обрабатывается 
на стр. news/views методом create. Идем туда, внутри метода прописываем получение данных из формы, их обработку. Если
нет ошибок - будем заносить в базу с новостями.
Вначале проверяем условие - какой сейчас идет м-д передачи данных (нужен POST). Создаем еще одну переменную form на основе 
класса  ArticleForm. Проверяем объект на корректное заполнение методом is_valid
![22-04-03.png](screens%2F22-04-03.png)

82. Если новость была введена корректно, то форма будет принята. И пропишем переадресацию на стр. с новостями.
В панели администратора эта запись тоже добавилась.
![22-11-53.png](screens%2F22-11-53.png)
![22-21-43.png](screens%2F22-21-43.png)

83. Динамически изменяемые страницы, отслеживание url. Создаем методы через классы. 
Чтобы создать класс, нужно вначале импортирлвать встроенный класс (from django.views.generic import DetailView). 
На основе этого класса можно создать страницу, кот. будет меняться в зависимости от переметров в url.
Пишем в news/views.py
![10-57-33.png](screens%2F10-57-33.png)

84. Идем в test_one/news/urls.py, создаем новое отслеживание url-адреса. Мы должны записать отслеживание некого 
динамического параметра (int:pk без пробелов!!!)
![11-10-16.png](screens%2F11-10-16.png)
Продолжаем писать путь. В этот раз мы вызываем не к-л метод, а класс, созданный в предыдущем пункте. NewsDetailView
![11-17-03.png](screens%2F11-17-03.png)

85. Теперь пора создать новый шаблон details_view.html, который использовали при создании класса. 
Создаем, копируем в него код из news/news_home.html. Удаляем все, что в тэге h1, вместо заголовка должно выводиться
не фиксированный текст, а название статьи, см. третий атрибут класса NewsDetailView. article.title - обращаемся к 
статье и полю title (по этому же принципу и к другим полям)
![11-26-19.png](screens%2F11-26-19.png)
![12-20-07.png](screens%2F12-20-07.png)

86. Проверка работы
![12-21-40.png](screens%2F12-21-40.png)
![12-21-54.png](screens%2F12-21-54.png)

87. Теперь рядом с каждым анонсом статьи рядом поместим кнопку для более детального прочтения. Идем в news/news_home.html
![12-39-18.png](screens%2F12-39-18.png)
![12-39-05.png](screens%2F12-39-05.png)

88. Поменяем title для каждой страницы.
![12-43-09.png](screens%2F12-43-09.png)
![12-42-57.png](screens%2F12-42-57.png)

89. Создадим страницу по обновлению записи в базе данных. 
Вначале создаем обработчик url-адреса, идем в test_one/news/urls.py, прописываем еще один путь (там новый класс и 
новый метод, сделаем)
![14-01-01.png](screens%2F14-01-01.png)

90. Шагаем в views, импортируем класс UpdateView. Опять будем создавать свой класс на основе предустановленного 
в джанго (теперь UpdateView).
![14-01-55.png](screens%2F14-01-55.png)

91. Переходим на http://127.0.0.1:8000/news/3/update, например. Читается корректно, но вид так себе.
![14-03-57.png](screens%2F14-03-57.png)
Поэтому внутри класса вместо полей можем задать формы класса ArticleForms
![14-07-20.png](screens%2F14-07-20.png)
![14-07-57.png](screens%2F14-07-57.png)

92. Если мы захотим обновить страницу (например, заменить заголовок), получим ошибку No URL to redirect to.
    (Нет URL для перенаправления.  Либо укажите URL, либо определите метод get_absolute_url для модели.)
![14-23-37.png](screens%2F14-23-37.png)
Так и сделаем, определим м-д get_absolute_url в ф-ле news/models.py (там, где определяли класс Article)
![14-28-17.png](screens%2F14-28-17.png)
![14-27-58.png](screens%2F14-27-58.png)

93. Создадим страницу, на которой будем удалять какую-либо запись. Работать будет по такому же принципу, как и 
update, идем в url, копируем предыдущее с delete
![14-34-18.png](screens%2F14-34-18.png)
Шагаем в views, импортируем класс DeleteView (см. п. 95)
![14-38-36.png](screens%2F14-38-36.png)

94. Создаем новый шаблон news_delete.html, копируем в него из ф-ла create.html. Оставляем csrf_token и кнопку, 
остальное удаляем.
![14-43-38.png](screens%2F14-43-38.png)

95. Переходим на http://127.0.0.1:8000/news/4/delete, видим ошибку success_url. Не указали, куда нужно переадресовать
пользователя после удаления статьи. Прописываем переадресацию на стр. с новостями. Удаление работает.
![14-48-05.png](screens%2F14-48-05.png)

96. И последнее - на каждой новости добавим кнопку для удаления или редактирования (чтобы не заходить через 
url-адрес). Идем в news/details_view.html, создаем кнопки-ссылки.
![14-58-09.png](screens%2F14-58-09.png)
![14-57-57.png](screens%2F14-57-57.png)
![14-58-48.png](screens%2F14-58-48.png)


